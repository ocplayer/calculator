<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investment Calculator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .calculator-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .calculator-body {
            padding: 40px;
        }

        .input-section {
            margin-bottom: 40px;
        }

        .input-group {
            margin-bottom: 30px;
        }

        .input-group label {
            display: block;
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .input-wrapper {
            position: relative;
        }

        .dollar-sign {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            color: #667eea;
            font-weight: 600;
        }

        input[type="number"] {
            width: 100%;
            padding: 15px 15px 15px 35px;
            font-size: 18px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .note-classes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .note-card {
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .note-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .note-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        }

        .note-card.selected::before {
            content: '✓';
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .note-class-name {
            font-size: 20px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 5px;
        }

        .note-type {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }

        .note-rate {
            font-size: 32px;
            font-weight: 800;
            color: #333;
            margin-bottom: 10px;
        }

        .note-term {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }

        .note-features {
            font-size: 13px;
            color: #555;
            line-height: 1.6;
        }

        .results-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
        }

        .results-title {
            font-size: 24px;
            font-weight: 700;
            color: #333;
            margin-bottom: 25px;
            text-align: center;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .result-label {
            font-size: 16px;
            color: #666;
            font-weight: 500;
        }

        .result-value {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
        }

        .result-highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .result-highlight .result-label {
            color: rgba(255, 255, 255, 0.9);
        }

        .result-highlight .result-value {
            color: white;
            font-size: 36px;
        }

        .monthly-breakdown {
            margin-top: 30px;
        }

        .breakdown-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }

        .breakdown-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }

        .breakdown-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            padding: 15px 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        .breakdown-row:last-child {
            border-bottom: none;
        }

        .breakdown-row.header {
            background: #667eea;
            color: white;
            font-weight: 600;
        }

        .breakdown-cell {
            text-align: center;
        }

        @media (max-width: 768px) {
            .calculator-body {
                padding: 20px;
            }

            .note-classes {
                grid-template-columns: 1fr;
            }

            .breakdown-row {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .breakdown-cell {
                text-align: left;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        const noteClasses = [
            {
                id: 'classA',
                name: 'Class A',
                type: 'Monthly Income',
                rate: 16,
                term: 24,
                description: 'Get paid while you sleep',
                paymentType: 'monthly'
            },
            {
                id: 'classB',
                name: 'Class B',
                type: 'Compound Growth',
                rate: 17,
                term: 24,
                description: 'Let your money work twice as hard',
                paymentType: 'compound'
            },
            {
                id: 'classC',
                name: 'Class C',
                type: 'Maximum Returns',
                rate: 19,
                term: 48,
                description: 'Premier class with direct deal access in Year 2',
                paymentType: 'compound'
            }
        ];

        function InvestmentCalculator() {
            const [investment, setInvestment] = useState(10000);
            const [selectedClass, setSelectedClass] = useState(noteClasses[0]);

            const calculations = useMemo(() => {
                const rate = selectedClass.rate / 100;
                const termMonths = selectedClass.term;
                const termYears = termMonths / 12;

                // Simple interest formula: I = P × r × t
                const totalInterest = investment * rate * termYears;
                const totalReturn = investment + totalInterest;

                if (selectedClass.paymentType === 'monthly') {
                    // Class A: Monthly payments (simple interest paid monthly)
                    const monthlyPayment = (investment * rate) / 12;

                    // Generate monthly breakdown
                    const monthlyBreakdown = [];
                    for (let month = 1; month <= termMonths; month++) {
                        monthlyBreakdown.push({
                            month,
                            payment: monthlyPayment,
                            totalPaid: monthlyPayment * month
                        });
                    }

                    return {
                        monthlyPayment,
                        totalInterest,
                        totalReturn,
                        monthlyBreakdown
                    };
                } else {
                    // Class B & C: Simple interest paid at maturity
                    const annualBreakdown = [];
                    
                    for (let year = 1; year <= termYears; year++) {
                        const interestThisYear = investment * rate;
                        const cumulativeInterest = interestThisYear * year;
                        const balance = investment + cumulativeInterest;
                        
                        annualBreakdown.push({
                            year,
                            interest: interestThisYear,
                            cumulativeInterest: cumulativeInterest,
                            balance
                        });
                    }

                    return {
                        totalInterest,
                        totalReturn,
                        annualBreakdown
                    };
                }
            }, [investment, selectedClass]);

            const formatCurrency = (value) => {
                return new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                }).format(value);
            };

            return (
                <div className="calculator-container">
                    <div className="header">
                        <h1>Investment Calculator</h1>
                        <p>Private Credit Returns Analysis</p>
                    </div>

                    <div className="calculator-body">
                        <div className="input-section">
                            <div className="input-group">
                                <label htmlFor="investment">Investment Amount</label>
                                <div className="input-wrapper">
                                    <span className="dollar-sign">$</span>
                                    <input
                                        type="number"
                                        id="investment"
                                        value={investment}
                                        onChange={(e) => setInvestment(Number(e.target.value))}
                                        min="5000"
                                        step="1000"
                                    />
                                </div>
                            </div>

                            <div className="input-group">
                                <label>Select Note Class</label>
                                <div className="note-classes">
                                    {noteClasses.map((noteClass) => (
                                        <div
                                            key={noteClass.id}
                                            className={`note-card ${selectedClass.id === noteClass.id ? 'selected' : ''}`}
                                            onClick={() => setSelectedClass(noteClass)}
                                        >
                                            <div className="note-class-name">{noteClass.name}</div>
                                            <div className="note-type">{noteClass.type}</div>
                                            <div className="note-rate">{noteClass.rate}%</div>
                                            <div className="note-term">{noteClass.term} months</div>
                                            <div className="note-features">{noteClass.description}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>

                        <div className="results-section">
                            <div className="results-title">Your Returns</div>

                            <div className="result-item">
                                <span className="result-label">Initial Investment</span>
                                <span className="result-value">{formatCurrency(investment)}</span>
                            </div>

                            <div className="result-item">
                                <span className="result-label">Annual Return Rate</span>
                                <span className="result-value">{selectedClass.rate}%</span>
                            </div>

                            <div className="result-item">
                                <span className="result-label">Investment Term</span>
                                <span className="result-value">{selectedClass.term} months</span>
                            </div>

                            {selectedClass.paymentType === 'monthly' && (
                                <div className="result-item">
                                    <span className="result-label">Monthly Payment</span>
                                    <span className="result-value">{formatCurrency(calculations.monthlyPayment)}</span>
                                </div>
                            )}

                            <div className="result-item">
                                <span className="result-label">Total Interest Earned</span>
                                <span className="result-value">{formatCurrency(calculations.totalInterest)}</span>
                            </div>

                            <div className="result-highlight">
                                <div className="result-item" style={{background: 'transparent', boxShadow: 'none', padding: 0}}>
                                    <span className="result-label">Total Return at Maturity</span>
                                    <span className="result-value">{formatCurrency(calculations.totalReturn)}</span>
                                </div>
                            </div>

                            {selectedClass.paymentType === 'monthly' ? (
                                <div className="monthly-breakdown">
                                    <div className="breakdown-title">Monthly Payment Schedule (First 12 Months)</div>
                                    <div className="breakdown-table">
                                        <div className="breakdown-row header">
                                            <div className="breakdown-cell">Month</div>
                                            <div className="breakdown-cell">Payment</div>
                                            <div className="breakdown-cell">Total Received</div>
                                        </div>
                                        {calculations.monthlyBreakdown.slice(0, 12).map((item) => (
                                            <div key={item.month} className="breakdown-row">
                                                <div className="breakdown-cell">Month {item.month}</div>
                                                <div className="breakdown-cell">{formatCurrency(item.payment)}</div>
                                                <div className="breakdown-cell">{formatCurrency(item.totalPaid)}</div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            ) : (
                                <div className="monthly-breakdown">
                                    <div className="breakdown-title">Annual Growth Schedule</div>
                                    <div className="breakdown-table">
                                        <div className="breakdown-row header">
                                            <div className="breakdown-cell">Year</div>
                                            <div className="breakdown-cell">Interest Earned</div>
                                            <div className="breakdown-cell">Account Balance</div>
                                        </div>
                                        {calculations.annualBreakdown.map((item) => (
                                            <div key={item.year} className="breakdown-row">
                                                <div className="breakdown-cell">Year {item.year}</div>
                                                <div className="breakdown-cell">{formatCurrency(item.interest)}</div>
                                                <div className="breakdown-cell">{formatCurrency(item.balance)}</div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<InvestmentCalculator />, document.getElementById('root'));
    </script>
</body>
</html>